!function(e){function t(r){if(s[r])return s[r].exports;var n=s[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var s={};return t.m=e,t.c=s,t.p="",t(0)}([function(e,t,s){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var n=s(24),i=r(n);Vue.config.debug=!0,new Vue(i["default"])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var s=this[t];s[2]?e.push("@media "+s[2]+"{"+s[1]+"}"):e.push(s[1])}return e.join("")},e.i=function(t,s){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},n=0;n<this.length;n++){var i=this[n][0];"number"==typeof i&&(r[i]=!0)}for(n=0;n<t.length;n++){var o=t[n];"number"==typeof o[0]&&r[o[0]]||(s&&!o[2]?o[2]=s:s&&(o[2]="("+o[2]+") and ("+s+")"),e.push(o))}},e}},function(e,t,s){function r(e,t){for(var s=0;s<e.length;s++){var r=e[s],n=d[r.id];if(n){n.refs++;for(var i=0;i<n.parts.length;i++)n.parts[i](r.parts[i]);for(;i<r.parts.length;i++)n.parts.push(l(r.parts[i],t))}else{for(var o=[],i=0;i<r.parts.length;i++)o.push(l(r.parts[i],t));d[r.id]={id:r.id,refs:1,parts:o}}}}function n(e){for(var t=[],s={},r=0;r<e.length;r++){var n=e[r],i=n[0],o=n[1],a=n[2],l=n[3],u={css:o,media:a,sourceMap:l};s[i]?s[i].parts.push(u):t.push(s[i]={id:i,parts:[u]})}return t}function i(e,t){var s=h(),r=g[g.length-1];if("top"===e.insertAt)r?r.nextSibling?s.insertBefore(t,r.nextSibling):s.appendChild(t):s.insertBefore(t,s.firstChild),g.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");s.appendChild(t)}}function o(e){e.parentNode.removeChild(e);var t=g.indexOf(e);t>=0&&g.splice(t,1)}function a(e){var t=document.createElement("style");return t.type="text/css",i(e,t),t}function l(e,t){var s,r,n;if(t.singleton){var i=x++;s=m||(m=a(t)),r=u.bind(null,s,i,!1),n=u.bind(null,s,i,!0)}else s=a(t),r=c.bind(null,s),n=function(){o(s)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else n()}}function u(e,t,s,r){var n=s?"":r.css;if(e.styleSheet)e.styleSheet.cssText=v(t,n);else{var i=document.createTextNode(n),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(i,o[t]):e.appendChild(i)}}function c(e,t){var s=t.css,r=t.media,n=t.sourceMap;if(r&&e.setAttribute("media",r),n&&(s+="\n/*# sourceURL="+n.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),e.styleSheet)e.styleSheet.cssText=s;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(s))}}var d={},p=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},f=p(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),h=p(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,x=0,g=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=f()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var s=n(e);return r(s,t),function(e){for(var i=[],o=0;o<s.length;o++){var a=s[o],l=d[a.id];l.refs--,i.push(l)}if(e){var u=n(e);r(u,t)}for(var o=0;o<i.length;o++){var l=i[o];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete d[l.id]}}}};var v=function(){var e=[];return function(t,s){return e[t]=s,e.filter(Boolean).join("\n")}}()},function(e,t,s){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=s(8),i=r(n),o=s(25),a=r(o),l=s(26),u=r(l),c=s(28),d=r(c),p=s(27),f=r(p);t["default"]={el:"#chat",data:function(){var e=i["default"].fetch();return{user:e.user,userList:e.userList,sessionList:e.sessionList,search:"",sessionIndex:0}},computed:{session:function(){return this.sessionList[this.sessionIndex]}},watch:{sessionList:{deep:!0,handler:function(){i["default"].save({user:this.user,userList:this.userList,sessionList:this.sessionList})}}},components:{card:a["default"],list:u["default"],text:d["default"],message:f["default"]}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:["user","search"]}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:["userList","sessionIndex","session","search"],methods:{select:function(e){this.sessionIndex=this.userList.indexOf(e)}},filters:{search:function(e){var t=this;return e.filter(function(e){return e.name.indexOf(t.search)>-1})}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:["session","user","userList"],computed:{sessionUser:function(){var e=this,t=this.userList.filter(function(t){return t.id===e.session.userId});return t[0]}},filters:{avatar:function(e){var t=e.self?this.user:this.sessionUser;return t&&t.img},time:function(e){return"string"==typeof e&&(e=new Date(e)),e.getHours()+":"+e.getMinutes()}},directives:{"scroll-bottom":function(){var e=this;Vue.nextTick(function(){e.el.scrollTop=e.el.scrollHeight-e.el.clientHeight})}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:["session"],data:function(){return{text:""}},methods:{inputing:function(e){e.ctrlKey&&13===e.keyCode&&this.text.length&&(this.session.messages.push({text:this.text,date:new Date,self:!0}),this.text="")}}}},function(e,t,s){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=s(9),i=r(n),o="VUE-CHAT-v3";if(!localStorage.getItem(o)){var a=new Date,l={user:{id:1,name:"Coffce",img:"dist/images/1.jpg"},userList:[{id:2,name:"示例介绍",img:"dist/images/2.png"},{id:3,name:"webpack",img:"dist/images/3.jpg"}],sessionList:[{userId:2,messages:[{text:"Hello，这是一个基于Vue + Webpack构建的简单chat示例，聊天记录保存在localStorge。简单演示了Vue的基础特性和webpack配置。",date:a},{text:"项目地址: https://github.com/coffcer/vue-chat",date:a}]},{userId:3,messages:[]}]};localStorage.setItem(o,(0,i["default"])(l))}t["default"]={fetch:function(){return JSON.parse(localStorage.getItem(o))},save:function(e){localStorage.setItem(o,(0,i["default"])(e))}}},function(e,t,s){e.exports={"default":s(10),__esModule:!0}},function(e,t,s){var r=s(11),n=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return n.stringify.apply(n,arguments)}},function(e,t){var s=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=s)},function(e,t,s){t=e.exports=s(1)(),t.push([e.id,".m-card{padding:12px;border-bottom:1px solid #24272c}.m-card footer{margin-top:10px}.m-card .avatar,.m-card .name{vertical-align:middle}.m-card .avatar{border-radius:2px}.m-card .name{display:inline-block;margin:0 0 0 15px;font-size:16px}.m-card .search{padding:0 10px;width:100%;font-size:12px;color:#fff;height:30px;line-height:30px;border:1px solid #3a3a3a;border-radius:4px;outline:none;background-color:#26292e}",""])},function(e,t,s){t=e.exports=s(1)(),t.push([e.id,"#chat{overflow:hidden;border-radius:3px}#chat .main,#chat .sidebar{height:100%}#chat .sidebar{float:left;width:200px;color:#f4f4f4;background-color:#2e3238}#chat .main{position:relative;overflow:hidden;background-color:#eee}#chat .m-text{position:absolute;width:100%;bottom:0;left:0}#chat .m-message{height:calc(100% - 160px)}",""])},function(e,t,s){t=e.exports=s(1)(),t.push([e.id,".m-list li{padding:12px 15px;border-bottom:1px solid #292c33;cursor:pointer;-webkit-transition:background-color .1s;transition:background-color .1s}.m-list li:hover{background-color:hsla(0,0%,100%,.03)}.m-list li.active{background-color:hsla(0,0%,100%,.1)}.m-list .avatar,.m-list .name{vertical-align:middle}.m-list .avatar{border-radius:2px}.m-list .name{display:inline-block;margin:0 0 0 15px}",""])},function(e,t,s){t=e.exports=s(1)(),t.push([e.id,'.m-message{padding:10px 15px;overflow-y:scroll}.m-message li{margin-bottom:15px}.m-message .time{margin:7px 0;text-align:center}.m-message .time>span{display:inline-block;padding:0 18px;font-size:12px;color:#fff;border-radius:2px;background-color:#dcdcdc}.m-message .avatar{float:left;margin:0 10px 0 0;border-radius:3px}.m-message .text{display:inline-block;position:relative;padding:0 10px;max-width:calc(100% - 40px);min-height:30px;line-height:2.5;font-size:12px;text-align:left;word-break:break-all;background-color:#fafafa;border-radius:4px}.m-message .text:before{content:" ";position:absolute;top:9px;right:100%;border:6px solid transparent;border-right-color:#fafafa}.m-message .self{text-align:right}.m-message .self .avatar{float:right;margin:0 0 0 10px}.m-message .self .text{background-color:#b2e281}.m-message .self .text:before{right:inherit;left:100%;border-right-color:transparent;border-left-color:#b2e281}',""])},function(e,t,s){t=e.exports=s(1)(),t.push([e.id,".m-text{height:160px;border-top:1px solid #ddd}.m-text textarea{padding:10px;height:100%;width:100%;border:none;outline:none;font-family:Micrsofot Yahei;resize:none}",""])},function(e,t,s){function r(e,t){for(var s=0;s<e.length;s++){var r=e[s],n=f[r.id];if(n){n.refs++;for(var i=0;i<n.parts.length;i++)n.parts[i](r.parts[i]);for(;i<r.parts.length;i++)n.parts.push(u(r.parts[i],t))}else{for(var o=[],i=0;i<r.parts.length;i++)o.push(u(r.parts[i],t));f[r.id]={id:r.id,refs:1,parts:o}}}}function n(e){for(var t=[],s={},r=0;r<e.length;r++){var n=e[r],i=n[0],o=n[1],a=n[2],l=n[3],u={css:o,media:a,sourceMap:l};s[i]?s[i].parts.push(u):t.push(s[i]={id:i,parts:[u]})}return t}function i(e,t){var s=x(),r=b[b.length-1];if("top"===e.insertAt)r?r.nextSibling?s.insertBefore(t,r.nextSibling):s.appendChild(t):s.insertBefore(t,s.firstChild),b.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");s.appendChild(t)}}function o(e){e.parentNode.removeChild(e);var t=b.indexOf(e);t>=0&&b.splice(t,1)}function a(e){var t=document.createElement("style");return t.type="text/css",i(e,t),t}function l(e){var t=document.createElement("link");return t.rel="stylesheet",i(e,t),t}function u(e,t){var s,r,n;if(t.singleton){var i=v++;s=g||(g=a(t)),r=c.bind(null,s,i,!1),n=c.bind(null,s,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(s=l(t),r=p.bind(null,s),n=function(){o(s),s.href&&URL.revokeObjectURL(s.href)}):(s=a(t),r=d.bind(null,s),n=function(){o(s)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else n()}}function c(e,t,s,r){var n=s?"":r.css;if(e.styleSheet)e.styleSheet.cssText=y(t,n);else{var i=document.createTextNode(n),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(i,o[t]):e.appendChild(i)}}function d(e,t){var s=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=s;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(s))}}function p(e,t){var s=t.css,r=t.sourceMap;r&&(s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var n=new Blob([s],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(n),i&&URL.revokeObjectURL(i)}var f={},h=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},m=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),x=h(function(){return document.head||document.getElementsByTagName("head")[0]}),g=null,v=0,b=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=m()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var s=n(e);return r(s,t),function(e){for(var i=[],o=0;o<s.length;o++){var a=s[o],l=f[a.id];l.refs--,i.push(l)}if(e){var u=n(e);r(u,t)}for(var o=0;o<i.length;o++){var l=i[o];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete f[l.id]}}}};var y=function(){var e=[];return function(t,s){return e[t]=s,e.filter(Boolean).join("\n")}}()},function(e,t,s){var r=s(12);"string"==typeof r&&(r=[[e.id,r,""]]);s(17)(r,{});r.locals&&(e.exports=r.locals)},function(e,t){e.exports="<div> <div class=sidebar> <card :user=user :search.sync=search></card> <list :user-list=userList :session=session :session-index.sync=sessionIndex :search=search></list> </div> <div class=main> <message :session=session :user=user :user-list=userList></message> <text :session=session></text> </div> </div>"},function(e,t){e.exports='<div class=m-card> <header> <img class=avatar width=40 height=40 :alt=user.name :src=user.img> <p class=name>{{user.name}}</p> </header> <footer> <input class=search type=text placeholder="search user..." v-model=search> </footer> </div>'},function(e,t){e.exports='<div class=m-list> <ul> <li v-for="item in userList | search" :class="{ active: session.userId === item.id }" @click=select(item)> <img class=avatar width=30 height=30 :alt=item.name :src=item.img> <p class=name>{{item.name}}</p> </li> </ul> </div>'},function(e,t){e.exports='<div class=m-message v-scroll-bottom=session.messages> <ul> <li v-for="item in session.messages"> <p class=time><span>{{item.date | time}}</span></p> <div class=main :class="{ self: item.self }"> <img class=avatar width=30 height=30 :src="item | avatar"/> <div class=text>{{item.text}}</div> </div> </li> </ul> </div>'},function(e,t){e.exports='<div class=m-text> <textarea placeholder="按 Ctrl + Enter 发送" v-model=text @keyup=inputing></textarea> </div>'},function(e,t,s){var r,n;s(29),r=s(3),n=s(19),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=n)},function(e,t,s){var r,n;s(18),r=s(4),n=s(20),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=n)},function(e,t,s){var r,n;s(30),r=s(5),n=s(21),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=n)},function(e,t,s){var r,n;s(31),r=s(6),n=s(22),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=n)},function(e,t,s){var r,n;s(32),r=s(7),n=s(23),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=n)},function(e,t,s){var r=s(13);"string"==typeof r&&(r=[[e.id,r,""]]);s(2)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,s){var r=s(14);"string"==typeof r&&(r=[[e.id,r,""]]);s(2)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,s){var r=s(15);"string"==typeof r&&(r=[[e.id,r,""]]);s(2)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,s){var r=s(16);"string"==typeof r&&(r=[[e.id,r,""]]);s(2)(r,{});r.locals&&(e.exports=r.locals)}]);
//# sourceMappingURL=main.js.map